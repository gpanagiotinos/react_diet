!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=31)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("sequelize")},function(e,t){e.exports=require("react-redux")},function(e,t){e.exports=require("faker")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("@fortawesome/react-fontawesome")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("isomorphic-fetch")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("prop-types")},function(e,t){e.exports=require("graphql-tag")},function(e,t){e.exports=require("redux")},function(e,t){e.exports=require("bcrypt")},function(e,t){e.exports=require("express-session")},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("sqlite3")},function(e,t){e.exports=require("graphql-import")},function(e,t){e.exports=require("graphql-tools")},function(e,t){e.exports=require("express-graphql")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("@fortawesome/fontawesome-svg-core")},function(e,t){e.exports=require("@fortawesome/free-solid-svg-icons")},function(e,t){e.exports=require("apollo-boost")},function(e,t){e.exports=require("redux-thunk")},function(e,t){e.exports=require("uuid/v4")},function(e,t){e.exports=require("connect-redis")},function(e,t){e.exports=require("redis")},function(e,t){e.exports=require("assert")},function(e,t){e.exports=require("apollo-link-error")},function(e,t){e.exports=require("open")},function(e,t,n){"use strict";n.r(t);var o=n(8),r=n.n(o),a=n(6),i=n.n(a),u=n(15),l=n.n(u),s=n(16);const c=new(n.n(s).a.Database)(":memory:");c.filename;var p=n(1),f=n.n(p);const d=new f.a("mysql://mknribq7fdck4sqm:rbnkk793geh6d0v9@uc13jynhmkss3nve.cbetxkdyhwsb.us-east-1.rds.amazonaws.com:3306/ialf57lay2mzajqu");n(14);var y=n(12),h=n.n(y);n(28);var m={Food:class extends p.Model{static init(e){return super.init({id:{type:p.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},ndbno:{type:p.DataTypes.STRING,allowNull:!1},name:{type:p.DataTypes.STRING,allowNull:!1},sd:{type:p.DataTypes.STRING,allowNull:!0},fg:{type:p.DataTypes.STRING,allowNull:!0},sn:{type:p.DataTypes.STRING,allowNull:!0},cn:{type:p.DataTypes.STRING,allowNull:!0},nf:{type:p.DataTypes.STRING,allowNull:!0},cf:{type:p.DataTypes.STRING,allowNull:!0},ff:{type:p.DataTypes.STRING,allowNull:!0},pf:{type:p.DataTypes.STRING,allowNull:!0},r:{type:p.DataTypes.STRING,allowNull:!0},rd:{type:p.DataTypes.STRING,allowNull:!0},ds:{type:p.DataTypes.STRING,allowNull:!1},manu:{type:p.DataTypes.STRING,allowNull:!1},ru:{type:p.DataTypes.STRING,allowNull:!1}},{tableName:"food",sequelize:e})}}.init(d),FoodNutrition:class extends p.Model{static init(e){return super.init({id:{type:p.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},foodId:{type:p.DataTypes.INTEGER,allowNull:!1},nutritionId:{type:p.DataTypes.INTEGER,allowNull:!1},derivation:{type:p.DataTypes.STRING,allowNull:!1},group:{type:p.DataTypes.STRING,allowNull:!1},name:{type:p.DataTypes.STRING,allowNull:!1},unit:{type:p.DataTypes.STRING,allowNull:!1},value:{type:p.DataTypes.STRING,allowNull:!1}},{tableName:"food_nutrition",sequelize:e})}}.init(d),FoodNutritionMeasure:class extends p.Model{static init(e){return super.init({id:{type:p.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},foodNutritionId:{type:p.DataTypes.INTEGER,allowNull:!1},label:{type:p.DataTypes.STRING,allowNull:!1},eqv:{type:p.DataTypes.STRING,allowNull:!1},eunit:{type:p.DataTypes.STRING,allowNull:!1},qty:{type:p.DataTypes.STRING,allowNull:!1},value:{type:p.DataTypes.STRING,allowNull:!1}},{tableName:"food_nutrition_measure",sequelize:e})}}.init(d),User:class extends p.Model{static init(e){return super.init({user_id:{type:p.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},username:{type:p.DataTypes.STRING,allowNull:!1},password:{type:p.DataTypes.STRING,allowNull:!1},role:{type:p.DataTypes.INTEGER,allowNull:!1}},{tableName:"user",hooks:{beforeCreate:async(e,t)=>{const n=await h.a.hash(e.password,10);e.password=n}},sequelize:e})}static async validateUsernamePassword(e,t){try{const n=await this.findOne({where:{username:e}});return n&&await h.a.compare(t,n.password)?Promise.resolve(n):null}catch(e){return Promise.rejects(e)}}}.init(d),Role:class extends p.Model{static init(e){return super.init({id:{type:p.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0},role_id:{type:p.DataTypes.STRING,allowNull:!1},role_name:{type:p.DataTypes.STRING,allowNull:!1}},{tableName:"role",sequelize:e})}}.init(d),Nutrition:class extends f.a.Model{static init(e){return super.init({id:{type:f.a.INTEGER,autoIncrement:!0,primaryKey:!0},nutrient_id:{type:f.a.STRING,allowNull:!0},nutrient_name:{type:f.a.STRING,allowNull:!1}},{tableName:"nutrition",sequelize:e})}}.init(d)};console.log(m);var b=n(3),v=n.n(b);const g={usdaUrlSearch:(e,t,n,o,r,a="")=>`https://api.nal.usda.gov/ndb/search/?format=${e}&q=${t}&sort=${n}&max=${o}&offset=${r}${"&fg="+a}&api_key=ywi9Lay1kIrMKIlYTPC2cBMT8AsGEQb8oJR2aq0c`,usdaNutritionSearch:(e,t,n)=>`https://api.nal.usda.gov/ndb/V2/reports/?ndbno=${e}&type=${t}&format=${n}&api_key=ywi9Lay1kIrMKIlYTPC2cBMT8AsGEQb8oJR2aq0c`,usdaLists:(e,t,n,o,r)=>`https://api.nal.usda.gov/ndb/list?format=${r}&lt=${e}&max=${t}&offset=${n}&sort=${o}&api_key=ywi9Lay1kIrMKIlYTPC2cBMT8AsGEQb8oJR2aq0c`};var E=n(7),O=n.n(E);async function w(){for(const e of function(){let e=[];for(let t=0;t<2;t++)e.push({username:0===t?"george":"georgepounis",password:0===t?"george1991":"georgepounis",createdAt:v.a.date.recent(),updatedAt:v.a.date.recent(),role:0===t?"1000":"1001"});return e}()){await m.User.create(e)}for(const e of function(){let e=[],t=["Super User","Admin","User","Moderator"];for(let n=0;n<4;n++)e.push({role_id:"100"+n,role_name:t[n]});return e}()){await m.Role.create(e)}(async function(e=196){const t=await O()(g.usdaLists("n",e,0,"n","json"),{method:"GET",headers:{"Content-Type":"application/json"}});return await t.json()})().then(async e=>{for(const t of e.list.item){await m.Nutrition.create({nutrient_id:t.id,nutrient_name:t.name})}}).catch(e=>{console.log(e)})}var D=n(17);const S={Query:{getUsers:{resolve:async(e,t,n)=>{return console.log(n),await n.dbModel.user.findAll()}},getUser:{resolve:async(e,{user_id:t},n)=>{return await n.dbModel.user.findOne({where:{user_id:t}})}},getUSDAData:{resolve:async(e,{text:t,foodGroup:n,offset:o,max:r},a)=>{console.log(t,n);const i=await O()(g.usdaUrlSearch("json",t,"r",r,o,n),{method:"GET",headers:{"Content-Type":"application/json"}});return await i.json()}},getUSDANutritionData:{resolve:async(e,{ndbno:t},n)=>{const o=await O()(g.usdaNutritionSearch(t,"f","json"),{method:"GET",headers:{"Content-Type":"application/json"}});return await o.json()}},getUSDAListData:{resolve:async(e,{lt:t,max:n,offset:o,sort:r,format:a},i)=>{const u=await O()(g.usdaLists(t,n,o,r,a),{method:"GET",headers:{"Content-Type":"application/json"}});return await u.json()}}},Mutation:{setUSDAFood:async(e,{food:t},n)=>{try{const[e,o]=await n.dbModel.Food.findOrCreate({where:{ndbno:t.desc.ndbno},defaults:t.desc});if(o){await t.nutrients.reduce((t,o)=>t.then(()=>new Promise((t,r)=>{n.dbModel.Nutrition.findOrCreate({where:{nutrient_id:o.nutrient_id},defaults:{nutrient_id:o.nutrient_id,nutrient_name:o.name}}).then(([t,r])=>(o.nutritionId=t.dataValues.id,n.dbModel.FoodNutrition.findOrCreate({where:{foodId:e.dataValues.id,nutritionId:o.nutritionId},defaults:o}))).then(([e,t])=>{const r=o.measures.map(t=>({...t,foodNutritionId:e.dataValues.id}));return n.dbModel.FoodNutritionMeasure.bulkCreate(r)}).then(e=>{t(e)}).catch(e=>{r(e)})})),Promise.resolve());return e}return console.log("Already Saved"),e}catch(e){return Promise.reject(e)}}}};var T=n(18);const A=Object(D.importSchema)("./src/api/schema/schemaFile.graphql"),_=Object(T.makeExecutableSchema)({typeDefs:A,resolvers:S});var N=n(19),I=n.n(N);const j=[{1000:"Super User"},{1001:"Admin"},{1002:"User"},{1003:"Moderator"}];var R=n(0),P=n.n(R),C=n(20),k=n(21),x=n(5),U=n(22),M=n(2);var L={INITIAL_USER:"INITIAL_USER",LOGIN_REQUEST:"USERS_LOGIN_REQUEST",LOGIN_SUCCESS:"USERS_LOGIN_SUCCESS",LOGIN_FAILURE:"USERS_LOGIN_FAILURE",LOGOUT:"USERS_LOGOUT"},G={SUCCESS:"ALERT_SUCCESS",ERROR:"ALERT_ERROR",CLEAR:"ALERT_CLEAR",SUCCESS_INPUT:"ALERT_INPUT_SUCCESS",ERROR_INPUT:"ALERT_INPUT_ERROR",CLEAR_INPUT:"ALERT_INPUT_CLEAR"},q={REQUEST_TABLE_DATA:"REQUEST_TABLE_DATA",ADD_TABLE_DATA:"ADD_TABLE_DATA",FAILURE_TABLE_DATA:"FAILURE_TABLE_DATA",REQUEST_ROW_DATA:"REQUEST_ROW_DATA",ADD_ROW_DATA:"ADD_ROW_DATA",FAILURE_ROW_DATA:"FAILURE_ROW_DATA"},B={ADD_PAGINATION_DATA:"ADD_PAGINATION_DATA",REMOVE_PAGINATION_DATA:"REMOVE_PAGINATION_DATA",FAILURE_PAGINATION_DATA:"FAILURE_PAGINATION_DATA"},F={ADD_DROPDOWN_DATA:"ADD_DROPDOWN_DATA",REQUEST_DROPDOWN_DATA:"REQUEST_DROPDOWN_DATA",FAILURE_DROPDOWN_DATA:"FAILURE_DROPDOWN_DATA",SELECT_DROPDOWN:"SELECT_DROPDOWN",UNSELECT_DROPDOWN:"UNSELECT_DROPDOWN",SEARCH_DROPDOWN:"SEARCH_DROPDOWN"},$={ADD_MEDIAOBJECT:"ADD_MEDIAOBJECT",REMOVE_MEDIAOBJECT:"REMOVE_MEDIAOBJECT",REQUEST_MEDIAOBJECT:"REQUEST_MEDIAOBJECT"},W={ADD_MENU_ITEM:"ADD_MENU_ITEM",REMOVE_MENU_ITEM:"REMOVE_MENU_ITEM",INCREASE_MENU_ITEM:"INCREASE_MENU_ITEM"},V={success:function(e){return{type:G.SUCCESS,message:e}},error:function(e){return{type:G.ERROR,message:e}},clear:function(){return{type:G.CLEAR}},successInput:function(e,t){return{type:G.SUCCESS_INPUT,message:e,input:t}},errorInput:function(e,t){return{type:G.ERROR_INPUT,message:e,input:t}},clearInput:function(e){return{type:G.CLEAR_INPUT,input:e}}};var Q={login:function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("".concat("localhost","/user/login"),n).then(J).then(function(e){return e})},logout:function(){return fetch("".concat("localhost","/user/logout"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(J).then(function(e){return e})}};function J(e){return e.text().then(function(t){var n=t&&JSON.parse(t);if(!e.ok){401===e.status&&console.log(e.status);var o=n&&n.message||e.statusText;return Promise.reject(o)}return n})}var z=n(23),H=n.n(z),K=n(10),Y=n.n(K);n(29);function X(){var e=oe(["\n  mutation setUSDAFood($food: USDAFoodInput!){\n    setUSDAFood(food: $food) {\n      desc {\n        ndbno\n        name\n      }\n    }\n  }"]);return X=function(){return e},e}function Z(){var e=oe(["query getUSDAData($text: String!, $foodGroup: String!, $offset: Int!, $max: Int!) {getUSDAData(text: $text, foodGroup: $foodGroup, offset: $offset, max: $max)\n  {\n    list \n      { \n        item \n        {\n          offset\n          ndbno\n          name\n        }\n      }\n  } \n}"]);return Z=function(){return e},e}function ee(){var e=oe(["query getUSDAListData($lt: String!, $max: Int!, $offset: Int!, $sort: String!, $format: String!)\n{\n  getUSDAListData(lt: $lt, max: $max, offset: $offset, sort: $sort, format: $format) {\n    list {\n      item\n      {\n        offset\n        id\n        name\n      }\n    }\n  }\n}"]);return ee=function(){return e},e}function te(){var e=oe(["query getUSDANutritionData($ndbno: String!) {getUSDANutritionData(ndbno: $ndbno)\n  {\n    foods \n    { \n      food\n      {\n        sr\n        type\n        desc {\n          ndbno\n          name\n          sd\n          fg\n          sn\n          cn\n          nf\n          cf\n          ff\n          pf\n          r\n          rd\n          ds\n          manu\n          ru\n        }\n        ing {\n          desc\n          upd\n        }\n        nutrients \n        {\n          nutrient_id\n          name\n          derivation\n          group\n          unit\n          value\n          measures \n          {\n            label\n            eqv\n            eunit\n            qty\n            value\n          }\n        }\n      }\n    }\n  }\n}"]);return te=function(){return e},e}function ne(){var e=oe(["query getUSDAData($text: String!, $foodGroup: String!, $offset: Int!, $max: Int!) {getUSDAData(text: $text, foodGroup: $foodGroup, offset: $offset, max: $max)\n    {\n      list \n      { \n        start\n        end\n        total\n        item \n        {\n          offset\n          group\n          ndbno\n          ds\n          name\n          manu\n        }\n      }\n    }\n}"]);return ne=function(){return e},e}function oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var re={client:ae,apolloQuery:function(e){switch(e){case"GET_USDADATA":return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return ae.query({query:ie,variables:{text:e,foodGroup:t,offset:n,max:o}})};case"GET_USDASEARCHLIST":return function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return ae.query({query:se,variables:{text:e,foodGroup:t,offset:n,max:o}})};case"GET_USDANUTRITION":return function(e){return ae.query({query:ue,variables:{ndbno:e}})};case"GET_USDALISTDATA":return function(e,t,n,o,r){return ae.query({query:le,variables:{lt:e,max:t,offset:n,sort:o,format:r}})}}},apolloMutation:function(e){switch(e){case"SET_USDAFOOD":return function(e){return ae.mutate({mutation:ce,variables:{food:e},onError:function(e){console.log("error",e)}})}}}},ae=new H.a({uri:"".concat("localhost","/graphql"),fetch:O.a,onError:function(e){return pe(e)}}),ie=Y()(ne()),ue=Y()(te()),le=Y()(ee()),se=Y()(Z());var ce=Y()(X());var pe=function(e){var t=e.graphQLErrors,n=e.networkError;if(console.log("Errors"),t&&t.map(function(e){var t=e.message,n=e.locations,o=e.path;return Promise.reject("[GraphQL error]: Message: ".concat(t,", Location: ").concat(n,", Path: ").concat(o))}),n)return Promise.reject("[Network error]: ".concat(n))};function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e){return(de="function"==typeof Symbol&&"symbol"===fe(Symbol.iterator)?function(e){return fe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":fe(e)})(e)}function ye(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function he(){return(he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){be(e,t,n[t])})}return e}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ve(e){var t={},n={};return null!==e.data.getUSDAData.list&&(t=me({},{head:["group","name","ds","manu","Actions"],body:Ee(e.data.getUSDAData.list.item)}),n=me({},{offset:e.data.getUSDAData.list.start,limit:e.data.getUSDAData.list.end,total:e.data.getUSDAData.list.total})),{tableData:t,paginationData:n}}function ge(e){var t={};return null!==e.data.getUSDANutritionData.foods[0].food&&(t=me({},{rowID:e.data.getUSDANutritionData.foods[0].food.desc.ndbno,data:e.data.getUSDANutritionData.foods[0].food})),t}function Ee(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.Actions=[{icon:"info",label:"Show Nutrition",service:"showNutrition",args:e.ndbno,action:De.usdaNutritionAction,component:"NutritionRow"},{icon:"save",label:"Save Nutrition",service:"saveNutrition",args:e.ndbno,action:De.usdaNutritionAction,component:""}],e})}var Oe={search:function(e,t,n){return re.apolloQuery("GET_USDADATA")(e,t,n).then(ve).then(function(e){return e})},foodGroupList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"g",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:26,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"n",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"json";return re.apolloQuery("GET_USDALISTDATA")(e,t,n,o,r).then(function(e){return e.data.getUSDAListData.list.item}).then(function(e){return e})},foodSearchList:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return re.apolloQuery("GET_USDASEARCHLIST")(e,t,n,o).then(function(e){return e.data.getUSDAData.list.item.map(function(e){return{id:e.ndbno,name:e.name,offset:e.offset}})}).then(function(e){return console.log(e),e})},availableServiceMethods:{showNutrition:function(e){return re.apolloQuery("GET_USDANUTRITION")(e).then(ge).then(function(e){return e})},saveNutrition:function(e){return re.apolloQuery("GET_USDANUTRITION")(e).then(ge).then(function(e){return{desc:he({},e.data.desc),nutrients:ye(e.data.nutrients).slice(0)}}).then(function(e){return re.apolloMutation("SET_USDAFOOD")(function e(t){return function(n){var o=JSON.parse(JSON.stringify(t));for(var r in o)r===n?delete o[n]:"object"===de(o[r])&&(o[r]=e(o[r])(n));return o}}(e)("__typename"))}).then(function(e){return e})}}},we={login:function(e,t,n){return function(o){var r;console.log(n),o((r={username:e},{type:L.LOGIN_REQUEST,user:r})),Q.login(e,t).then(function(e){var t;o((t=e.user,{type:L.LOGIN_SUCCESS,user:t})),n.push("/")},function(e){console.log(e),o(function(e){return{type:L.LOGIN_FAILURE,error:e}}(e.toString())),o(function(e){return{type:G.ERROR,message:e}}(e))})}},logout:function(e){return console.log("dispatch"),function(n){Q.logout().then(function(){n(t()),e.push("/login")},function(o){n(t()),e.push("/login")})};function t(){console.log("success");return{type:L.LOGOUT,logoutState:{loggedIn:!1,user:{}}}}},authenticatedUser:function(e){return function(t){var n;t(e?function(e){return{type:L.LOGIN_SUCCESS,user:e}}(e):(n="Unauthorized User",{type:L.LOGIN_FAILURE,error:n}))}}};var De={usdaSearch:function(e,t,n){return function(o){var r;o((r={text:e,foodGroup:t,offset:n},{type:q.REQUEST_TABLE_DATA,data:r})),Oe.search(e,t,n).then(function(t){o(function(e){return{type:q.ADD_TABLE_DATA,data:e}}(t.tableData)),o(function(e,t){var n=parseInt(t.offset),o=parseInt(t.offset)+parseInt(e.limit),r=o/(o-n);return function(a){a(Te.addPaginationData(n,o,parseInt(e.total),De.usdaSearch,t,r))}}(t.paginationData,{text:e,offset:n}))},function(e){o(function(e){return{type:G.ERROR,message:e.message}}(e))})}},usdaListDropDown:function(e,t,n,o,r){return function(s){switch(s(a(t)),e){case"groups":Oe.foodGroupList().then(function(e){s(i(t,e,n))},function(e){s(u()),s(l(e))});break;case"searchFood":s(a(t)),Oe.foodSearchList(o,r).then(function(e){s(i(t,e,n))},function(e){s(u()),s(l(e))})}};function a(e){return{type:F.REQUEST_DROPDOWN_DATA,id:e}}function i(e,t,n){return{type:F.ADD_DROPDOWN_DATA,id:e,data:t,index:n}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:F.FAILURE_DROPDOWN_DATA,data:e}}function l(e){return{type:G.ERROR,message:e.message}}},usdaNutritionAction:function(e,t){return function(n){var o;n((o={ndbno:e},{type:q.REQUEST_ROW_DATA,data:o})),Oe.availableServiceMethods[t](e).then(function(e){n(function(e){return{type:q.ADD_ROW_DATA,data:e}}(e))},function(e){n(function(e){return{type:G.ERROR,message:e.message}}(e))})}},usdaNutritionMediaObject:function(e){return function(t){var n;t((n=e,{type:$.REQUEST_MEDIAOBJECT,id:n})),Oe.availableServiceMethods.showNutrition(e).then(function(e){var n,o,r,a,i,u={id:e.rowID,title:e.data.desc.name,subtitle:" @"+e.data.desc.sd,content:e.data.nutrients.filter(function(e){return Se.indexOf(e.nutrient_id)>-1})};t((o=(n=u).id,r=n.title,a=n.subtitle,i=n.content,{type:$.ADD_MEDIAOBJECT,id:o,title:r,subtitle:a,content:i})),t(_e.addMenuItem({id:u.id,value:100,content:u.content}))},function(e){t(function(e){return{type:G.ERROR,message:e.message}}(e))})}},usdaNutritionMediaObjectRemove:function(e){return function(t){var n;t((n=e,{type:$.REMOVE_MEDIAOBJECT,id:n})),t(_e.removeMenuItem(e))}}},Se=["255","208","268","203","204","205","291","269"];var Te={addPaginationData:function(e,t,n,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i={offset:e,limit:t,total:n,paginationAction:o,actionArgs:r,currentPagination:a};return console.log(i),{type:B.ADD_PAGINATION_DATA,paginationData:i}},removePaginationData:function(){return{type:B.REMOVE_PAGINATION_DATA,paginationData:{}}}};var Ae={dropdownSelect:function(e,t,n){return function(o){o(n?function(e,t){return{type:F.SELECT_DROPDOWN,index:e,id:t}}(e,t):function(e){return{type:F.UNSELECT_DROPDOWN,id:e}}(t))}}};var _e={addMenuItem:function(e){return function(t){t(function(e){return{type:W.ADD_MENU_ITEM,item:e}}(e))}},removeMenuItem:function(e){return{type:W.REMOVE_MENU_ITEM,id:e}},increaseMenuItem:function(e,t){return{type:W.INCREASE_MENU_ITEM,id:e,value:t}}};function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ke=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Re(t).call(this,e))||"object"!==Ie(r)&&"function"!=typeof r?Ce(o):r).handleNotification=n.handleNotification.bind(Ce(Ce(n))),n.handleDisplay=n.handleDisplay.bind(Ce(Ce(n))),n.handleDeleteNotification=n.handleDeleteNotification.bind(Ce(Ce(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleNotification",value:function(){var e=this;return void 0!==this.props.alert&&null!==this.props.alert&&Object.keys(this.props.alert).length>0?(setTimeout(function(){e.props.dispatch(V.clear())},3e3),P.a.createElement("div",{className:"column is-half notification "+this.props.alert.type},P.a.createElement("button",{className:"delete",onClick:this.handleDeleteNotification}),this.props.alert.message)):null}},{key:"handleDisplay",value:function(){return void 0!==this.props.alert&&null!==this.props.alert&&Object.keys(this.props.alert).length>0?null:"appDisplayNone"}},{key:"handleDeleteNotification",value:function(){this.props.dispatch(V.clear())}},{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-mobile is-centered notificationWrapper "+this.handleDisplay()},this.handleNotification())}}])&&je(n.prototype,o),r&&je(n,r),t}();var xe=Object(M.connect)(function(e,t){return{alert:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Ne(e,t,n[t])})}return e}({},e.alert)}})(ke),Ue=n(4);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ge(e,t){return!t||"object"!==Me(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ge(this,qe(t).call(this,e))).state={to:n.props.to,text:n.props.text,navLinkClassName:n.props.navLinkClassName},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(t,P.a.Component),n=t,(o=[{key:"render",value:function(){return P.a.createElement(Ue.NavLink,{className:this.state.navLinkClassName,to:this.state.to},this.state.text)}}])&&Le(n.prototype,o),r&&Le(n,r),t}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ze=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Ve(t).call(this,e))||"object"!==$e(r)&&"function"!=typeof r?Je(o):r).state={label:n.props.label,rightIcon:n.props.rightIcon,leftIcon:n.props.leftIcon,bulmaType:n.props.bulmaType,onButtonClick:n.props.onButtonClick,buttonCustomClass:n.props.buttonCustomClass,value:n.props.value,disable:void 0!==n.props.disable&&n.props.disable,loadingButton:void 0!==n.props.loadingButton&&n.props.loadingButton},n.handleClick=n.handleClick.bind(Je(Je(n))),n.handleButtonIcon=n.handleButtonIcon.bind(Je(Je(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleClick",value:function(e){e.preventDefault(),this.state.onButtonClick(e,this.state.value)}},{key:"handleButtonIcon",value:function(e){switch(e){case"left":return void 0!==this.state.leftIcon?P.a.createElement("span",{className:"icon is-small is-left"},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",this.state.leftIcon]})):null;case"right":return void 0!==this.state.rightIcon?P.a.createElement("span",{className:"icon is-small is-right"},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",this.state.rightIcon]})):null}}},{key:"render",value:function(){return P.a.createElement("a",{className:[void 0!==this.state.buttonCustomClass?this.state.buttonCustomClass:"button is-"+this.state.bulmaType]+[this.state.loadingButton?" is-loading":""],onClick:this.handleClick},this.handleButtonIcon("left"),P.a.createElement("span",null,this.state.label),this.handleButtonIcon("right"))}}])&&We(n.prototype,o),r&&We(n,r),t}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ye(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var tt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Xe(t).call(this,e))||"object"!==He(r)&&"function"!=typeof r?et(o):r).state={buttonLabel:n.props.buttonLabel,dropdownType:void 0===n.props.dropdownType?"default":n.props.dropdownType,iconLabel:n.props.iconLabel,dropDownId:n.props.dropDownId,content:n.props.content,dropdownActive:!1,dropdownSelected:!1,onDropDownSelect:n.props.onDropDownSelect,onDropDownInput:n.props.onDropDownInput,inputValue:""},n.handleDropDownContent=n.handleDropDownContent.bind(et(et(n))),n.handleDropDownActive=n.handleDropDownActive.bind(et(et(n))),n.handleDropDownSelection=n.handleDropDownSelection.bind(et(et(n))),n.handleDropDownTrigger=n.handleDropDownTrigger.bind(et(et(n))),n.handleDropDownInput=n.handleDropDownInput.bind(et(et(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleDropDownContent",value:function(){var e=this;return void 0!==this.props.content?Ke(this.props.content).map(function(t,n){return n==e.props.selectedIndex?P.a.createElement(ze,{buttonCustomClass:"dropdown-item is-active",key:t.id+"is_active",onButtonClick:e.handleDropDownSelection,value:n,label:t.name}):P.a.createElement(ze,{buttonCustomClass:"dropdown-item",key:t.id,onButtonClick:e.handleDropDownSelection,value:n,label:t.name})}):this.state.dropdownActive?P.a.createElement(ze,{buttonCustomClass:"dropdown-item button",loadingButton:!0,key:"loading"}):void 0}},{key:"handleDropDownSelection",value:function(e,t){e.preventDefault();var n=this.props.dispatch;switch(this.state.dropdownType){case"default":null===this.props.selectedIndex||this.props.selectedIndex!==t.toString()?(this.setState(function(e,n){return{buttonLabel:n.content[t].name,dropdownActive:!1,dropdownSelected:!e.dropdownSelected}}),n(Ae.dropdownSelect(t.toString(),this.state.dropDownId,!0)),this.state.onDropDownSelect(e,this.props.content[t])):(this.setState(function(e,t){return{buttonLabel:t.buttonLabel,dropdownActive:!1,dropdownSelected:!e.dropdownSelected}}),this.state.onDropDownSelect(e,null),n(Ae.dropdownSelect(t.toString(),this.state.dropDownId,!1)));break;case"input":this.state.onDropDownSelect(e,this.props.content[t]),this.setState(function(e,t){return{dropdownActive:!1}})}}},{key:"handleDropDownActive",value:function(){this.setState(function(e,t){return{dropdownActive:!e.dropdownActive}})}},{key:"handleDropDownInput",value:function(e){var t=e.target.value;this.setState(function(e,n){return{dropdownActive:!0,inputValue:t}}),this.state.onDropDownInput(t)}},{key:"handleDropDownTrigger",value:function(){switch(this.state.dropdownType){case"default":return P.a.createElement("div",{className:"dropdown-trigger"},P.a.createElement(ze,{key:this.state.buttonLabel,onButtonClick:this.handleDropDownActive,label:this.state.buttonLabel,rightIcon:"angle-down"}));case"input":return P.a.createElement(st,{inputTimer:3e3,onInputFocus:this.handleDropDownActive,value:this.state.inputValue,onInputChange:this.handleDropDownInput})}}},{key:"render",value:function(){return P.a.createElement("div",{className:"dropdown is-fullwidth"+[this.state.dropdownActive?" is-active":""]},this.handleDropDownTrigger(),P.a.createElement("div",{className:"dropdown-menu"},P.a.createElement("div",{className:"dropdown-content"},this.handleDropDownContent())))}}])&&Ye(n.prototype,o),r&&Ye(n,r),t}();var nt=Object(M.connect)(function(e,t){var n=e.dropdown.dropdownData.filter(function(e){return e.id===t.dropDownId});return n.length>0?{content:n[0].data,selectedIndex:n[0].selectedIndex,requestResolved:n[0].requestResolved}:{}})(tt);function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function it(e,t){return(it=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ut(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=at(t).call(this,e))||"object"!==ot(r)&&"function"!=typeof r?ut(o):r).InputRef=P.a.createRef(),n.state={placeholder:n.props.placeholder,type:n.props.type,name:n.props.name,id:n.props.id,value:void 0!==n.props.value?n.props.value:"",label:n.props.label,leftIcon:n.props.leftIcon,rightIcon:n.props.rightIcon,onInputChange:n.props.onInputChange,onInputFocus:n.props.onInputFocus,required:n.props.required,size:n.props.size,inputTimer:void 0!==n.props.inputTimer?n.props.inputTimer:0,inputTimeout:null},n.handleChange=n.handleChange.bind(ut(ut(n))),n.handleClick=n.handleClick.bind(ut(ut(n))),n.handleInputClass=n.handleInputClass.bind(ut(ut(n))),n.handleInputType=n.handleInputType.bind(ut(ut(n))),n.handleInputLeftIcons=n.handleInputLeftIcons.bind(ut(ut(n))),n.handleInputRightIcons=n.handleInputRightIcons.bind(ut(ut(n))),n.handleShowPassword=n.handleShowPassword.bind(ut(ut(n))),n.handleInputHelpMessage=n.handleInputHelpMessage.bind(ut(ut(n))),n.handleLabel=n.handleLabel.bind(ut(ut(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&it(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleChange",value:function(e){var t=this;e.persist(),clearTimeout(this.state.inputTimeout),this.setState(function(n,o){return{value:e.target.value,inputTimeout:setTimeout(t.triggerChange.bind(t,e),o.inputTimer)}})}},{key:"triggerChange",value:function(e){this.setState(function(t,n){return{value:e.target.value}}),1===e.target.value.length&&this.props.dispatch(V.clearInput(this.state.type)),void 0!==this.state.onInputChange&&this.state.onInputChange(e,e.target.value)}},{key:"handleClick",value:function(e){this.InputRef.current.focus(),void 0!==this.state.onInputFocus&&this.state.onInputFocus(e)}},{key:"handleInputClass",value:function(){this.state.type}},{key:"handleInputType",value:function(){switch(this.state.type){case"username":return"text";case"password":return"password";case"number":return"number"}}},{key:"handleInputLeftIcons",value:function(){if(void 0!==this.state.leftIcon)return P.a.createElement("span",{className:"icon is-small is-left"},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",this.state.leftIcon]}))}},{key:"handleInputRightIcons",value:function(){return"password"===this.state.name?P.a.createElement("span",{className:"icon is-small is-right",style:{pointerEvents:"initial"}},P.a.createElement("a",{onClick:this.handleShowPassword},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",this.state.rightIcon]}))):void 0!==this.state.rightIcon?P.a.createElement("span",{className:"icon is-small is-right"},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",this.state.rightIcon]})):void 0}},{key:"handleShowPassword",value:function(){this.setState(function(e,t){return{rightIcon:"eye-slash"===e.rightIcon?"eye":"eye-slash",type:"password"===e.type?"text":"password"}})}},{key:"handleInputHelpMessage",value:function(){return void 0!==this.props.helpMessage&&null!==this.props.helpMessage?P.a.createElement("p",{className:"help "+this.props.helpMessage.type},this.props.helpMessage.message):null}},{key:"handleLabel",value:function(){return void 0!==this.state.label?P.a.createElement("label",{className:"label"},this.state.label):null}},{key:"render",value:function(){return P.a.createElement("div",{className:"field"},this.handleLabel(),P.a.createElement("div",{className:"control is-expanded"+(this.state.leftIcon?" has-icons-left":"")+(this.state.rightIcon?" has-icons-right":"")},P.a.createElement("input",{className:"input",defaultValue:this.state.value,size:this.state.size,type:this.handleInputType(),ref:this.InputRef,name:this.state.name,id:this.state.id,placeholder:this.state.placeholder,onChange:this.handleChange,onClick:this.handleClick}),this.handleInputLeftIcons(),this.handleInputRightIcons(),this.handleInputHelpMessage()))}}])&&rt(n.prototype,o),r&&rt(n,r),t}();var st=Object(M.connect)(function(e,t){return{helpMessage:e.alertInput.find(function(e){return e.input===t.type})}})(lt);function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ht=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=ft(t).call(this,e))||"object"!==ct(r)&&"function"!=typeof r?yt(o):r).state={username:"",password:"",submitted:!1},console.log(n.props),n.handleChange=n.handleChange.bind(yt(yt(n))),n.handleLoggedIn=n.handleLoggedIn.bind(yt(yt(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleChange",value:function(e){var t=e.target,n=t.name,o=t.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,o))}},{key:"handleLoggedIn",value:function(e){var t=this;e.preventDefault(),this.setState({submitted:!0});var n=this.state,o=n.username,r=n.password,a=this.props.dispatch;o&&r?a(we.login(o,r,this.props.history)):["username","password"].map(function(e){var n;""===t.state[e]&&(console.log(e),a(V.errorInput((n=e).charAt(0).toUpperCase()+n.slice(1)+" is Required",e)))})}},{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-mobile is-centered"},P.a.createElement("div",{className:"column is-half"},P.a.createElement("p",{className:"title is-1"},"Log in"),P.a.createElement(st,{type:"username",label:"Username",name:"username",value:this.state.username,onInputChange:this.handleChange,leftIcon:"user"}),P.a.createElement(st,{type:"password",label:"Password",name:"password",value:this.state.password,onInputChange:this.handleChange,leftIcon:"lock",rightIcon:"eye"}),P.a.createElement(ze,{label:"Log in",bulmaType:"link",onButtonClick:this.handleLoggedIn})))}}])&&pt(n.prototype,o),r&&pt(n,r),t}();var mt=Object(Ue.withRouter)(Object(M.connect)(function(e){return{loggingIn:e.authentication.loggingIn}})(ht));function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function gt(e,t){return!t||"object"!==bt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wt=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gt(this,Et(t).call(this,e))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(t,P.a.Component),n=t,(o=[{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-mobile is-centered homeWrapper"},P.a.createElement("div",{className:"column is-half is-offset-one-quarter"},P.a.createElement("p",{className:"title is-1 homeTitle"},P.a.createElement("span",null,"Nutrition"),P.a.createElement("span",null,"Informatics"))))}}])&&vt(n.prototype,o),r&&vt(n,r),t}();var Dt=Object(M.connect)(function(e){return{loggedIn:e.authentication.loggedIn}})(wt),St=n(9),Tt=n.n(St);function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Nt(e,t){return!t||"object"!==At(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function It(e){return(It=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(e,t){return(jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rt=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nt(this,It(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jt(e,t)}(t,P.a.Component),n=t,(o=[{key:"componentWillMount",value:function(){this.props.dispatch(we.logout(this.props.history))}},{key:"render",value:function(){return null}}])&&_t(n.prototype,o),r&&_t(n,r),t}();Rt.propTypes={dispatch:Tt.a.func.isRequired};var Pt=Object(Ue.withRouter)(Object(M.connect)()(Rt));function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Lt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=xt(t).call(this,e))||"object"!==Ct(r)&&"function"!=typeof r?Mt(o):r).state={dropdownActive:"",nutritionIndex:null,nutritionButtonText:"Nutrients"},n.handleNutritionTabs=n.handleNutritionTabs.bind(Mt(Mt(n))),n.handleNutritionHeading=n.handleNutritionHeading.bind(Mt(Mt(n))),n.handleDropDownButton=n.handleDropDownButton.bind(Mt(Mt(n))),n.handleDropDownActiveItem=n.handleDropDownActiveItem.bind(Mt(Mt(n))),n.handleNutritionBody=n.handleNutritionBody.bind(Mt(Mt(n))),n.handleMeasuresBody=n.handleMeasuresBody.bind(Mt(Mt(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleNutritionTabs",value:function(){var e=this;if(this.props.requestResolved)return this.props.rowData.data.nutrients.map(function(t,n){return P.a.createElement("a",{className:"dropdown-item",onClick:function(){return e.handleDropDownActiveItem(n,t.name)},key:t.nutrient_id},P.a.createElement("span",null,t.name))})}},{key:"handleNutritionHeading",value:function(){return this.props.requestResolved?P.a.createElement("span",{className:"title"},this.props.rowData.data.desc.name):null}},{key:"handleDropDownButton",value:function(){this.setState(function(e,t){return{dropdownActive:""===e.dropdownActive?"is-active":""}})}},{key:"handleDropDownActiveItem",value:function(e,t){this.setState(function(n,o){return{nutritionIndex:e,nutritionButtonText:t,dropdownActive:""}})}},{key:"handleNutritionBody",value:function(){if(this.props.requestResolved)return this.props.rowData.data.nutrients.map(function(e){return P.a.createElement("div",{key:e.nutrient_id,className:"control"},P.a.createElement("div",{className:"tags are-medium has-addons"},P.a.createElement("span",{className:"tag is-dark"},e.name),P.a.createElement("span",{className:"tag is-info"},e.value+e.unit)))})}},{key:"handleMeasuresBody",value:function(){if(this.props.requestResolved)return this.props.rowData.data.nutrients[0].measures.map(function(e,t){return P.a.createElement("div",{key:t,className:"control"},P.a.createElement("div",{className:"tags are-medium has-addons"},P.a.createElement("span",{className:"tag is-dark"},e.qty+" "+e.label),P.a.createElement("span",{className:"tag is-success"},e.eqv+e.eunit)))})}},{key:"render",value:function(){return P.a.createElement("td",{colSpan:"4"},P.a.createElement("nav",{className:"panel"},P.a.createElement("p",{className:"panel-heading"},this.handleNutritionHeading()),P.a.createElement("p",{className:"panel-heading"},"MEASURES"),P.a.createElement("div",{className:"panel-block"},P.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},this.handleMeasuresBody())),P.a.createElement("p",{className:"panel-heading"},"NUTRIENTS (100g)"),P.a.createElement("div",{className:"panel-block"},P.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},this.handleNutritionBody()))))}}])&&kt(n.prototype,o),r&&kt(n,r),t}();var Gt=Object(M.connect)(function(e,t){var n=e.tableRow;return{requestResolved:n.requestResolved,rowData:n.rowData}})(Lt);function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ft(e){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Vt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Ft(t).call(this,e))||"object"!==qt(r)&&"function"!=typeof r?Wt(o):r).state={componentRow:{componentKey:null,componentIndex:null}},n.components={NutritionRow:Gt},n.handleBodyTr=n.handleBodyTr.bind(Wt(Wt(n))),n.handleBodyTd=n.handleBodyTd.bind(Wt(Wt(n))),n.handleTableActions=n.handleTableActions.bind(Wt(Wt(n))),n.handleActionClicked=n.handleActionClicked.bind(Wt(Wt(n))),n.handleDynamicRowComponent=n.handleDynamicRowComponent.bind(Wt(Wt(n))),n.handleBodyTdActions=n.handleBodyTdActions.bind(Wt(Wt(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleDynamicRowComponent",value:function(e){if(void 0!==e&&""!==e)return P.a.createElement(this.components[e])}},{key:"handleActionClicked",value:function(e,t,n,o,r){this.props.dispatch(t(e,n)),console.log(this.props.requestResolved,o),this.props.requestResolved&&""!==o&&this.setState(function(e,t){return{componentRow:{componentKey:o,componentIndex:r}}})}},{key:"handleTableActions",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return P.a.createElement("ul",{className:"level-left"},t.map(function(t){return P.a.createElement("li",{key:t.label,className:"level-item"},P.a.createElement("span",{className:"icon"},P.a.createElement("a",{onClick:function(){return e.handleActionClicked(t.args,t.action,t.service,t.component,n)}},P.a.createElement(x.FontAwesomeIcon,{icon:["fas",t.icon]}))))}))}},{key:"handleBodyTd",value:function(e){var t=this;return Object.keys(e).map(function(n){if(t.props.tableData.head.indexOf(n)>-1&&"Actions"!==n)return P.a.createElement("td",{key:n},e[n])})}},{key:"handleBodyTdActions",value:function(e,t){var n=this;return Object.keys(e).map(function(o){if("Actions"===o)return P.a.createElement("td",{key:o},n.handleTableActions(e[o],t))})}},{key:"handleBodyTr",value:function(){var e=this;return this.props.requestResolved?this.props.tableData.body.map(function(t,n){return null!==e.state.componentRow.componentIndex&&e.state.componentRow.componentIndex===n?P.a.createElement("tr",{key:n},e.handleDynamicRowComponent(e.state.componentRow.componentKey),e.handleBodyTdActions(t,n)):P.a.createElement("tr",{key:n},e.handleBodyTd(t),e.handleBodyTdActions(t,n))}):null}},{key:"render",value:function(){return P.a.createElement("tbody",null,this.handleBodyTr())}}])&&Bt(n.prototype,o),r&&Bt(n,r),t}();var Qt=Object(M.connect)(function(e){var t=e.table;return{requestResolved:t.requestResolved,tableData:t.tableData}})(Vt);function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xt=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Ht(t).call(this,e))||"object"!==Jt(r)&&"function"!=typeof r?Yt(o):r).handleTableHead=n.handleTableHead.bind(Yt(Yt(n))),n.handleTableActions=n.handleTableActions.bind(Yt(Yt(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleTableHead",value:function(){return this.props.requestResolved?P.a.createElement("thead",null,P.a.createElement("tr",null,this.props.tableData.head.map(function(e,t){return P.a.createElement("th",{key:t},e)}))):null}},{key:"handleTableActions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return P.a.createElement("ul",{className:"level-left"},e.map(function(e){return P.a.createElement("li",{className:"level-item"},P.a.createElement("span",{className:"icon"},P.a.createElement("a",null,P.a.createElement(x.FontAwesomeIcon,{icon:["fas",e.icon]}))))}))}},{key:"render",value:function(){return P.a.createElement("table",{className:"table is-bordered is-fullwidth"},this.handleTableHead(),P.a.createElement(Qt,null))}}])&&zt(n.prototype,o),r&&zt(n,r),t}();var Zt=Object(M.connect)(function(e){var t=e.table;return{requestResolved:t.requestResolved,tableData:t.tableData}})(Xt),en=n(11);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){rn(e,t,n[t])})}return e}function rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function an(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function un(e){return(un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t){return(ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var cn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=un(t).call(this,e))||"object"!==tn(r)&&"function"!=typeof r?sn(o):r).state={paginationInputValue:null},n.handlePaginationComponent=n.handlePaginationComponent.bind(sn(sn(n))),n.handlePaginationNumbers=n.handlePaginationNumbers.bind(sn(sn(n))),n.handlePaginationChange=n.handlePaginationChange.bind(sn(sn(n))),n.handlePreviousNextDisable=n.handlePreviousNextDisable.bind(sn(sn(n))),n.handlePaginationOnInputChange=n.handlePaginationOnInputChange.bind(sn(sn(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ln(e,t)}(t,P.a.Component),n=t,(o=[{key:"handlePaginationComponent",value:function(){var e=this;return void 0!==this.props.paginationData&&Object.keys(this.props.paginationData).length>0&&this.props.paginationData.constructor===Object?P.a.createElement("nav",{className:"pagination is-centered",role:"navigation","aria-label":"pagination"},P.a.createElement(ze,{key:"previous",value:"previous",disable:function(){return e.hanlePreviousNextDisable("previous")},buttonCustomClass:"pagination-previous",label:"Previous",onButtonClick:this.handlePaginationChange}),P.a.createElement(ze,{key:"next",value:"next",disable:function(){return e.hanlePreviousNextDisable("next")},buttonCustomClass:"pagination-next",label:"Next",onButtonClick:this.handlePaginationChange}),P.a.createElement("ul",{className:"pagination-list"},this.handlePaginationNumbers().map(function(t,n){return"number"===t.visible?P.a.createElement("li",{key:n},P.a.createElement(ze,{key:t.index+t.isCurrent,value:t.index,buttonCustomClass:"pagination-link "+t.isCurrent,label:t.buttonText,onButtonClick:e.handlePaginationChange})):"separator"===t.visible?P.a.createElement("li",{key:t.index},P.a.createElement("span",{className:"pagination-ellipsis"},t.buttonText)):null}),P.a.createElement("li",{className:"field has-addons"},P.a.createElement("div",{className:"control"},P.a.createElement(st,{type:"number",size:"1",onInputChange:this.handlePaginationOnInputChange,value:this.state.paginationInputValue})),P.a.createElement("div",{className:"control"},P.a.createElement(ze,{buttonCustomClass:"button",label:"Go",onButtonClick:function(t){return e.handlePaginationChange(t,parseInt(e.state.paginationInputValue))}}))))):null}},{key:"handlePaginationNumbers",value:function(){var e=Math.ceil(this.props.paginationData.total/(this.props.paginationData.limit-this.props.paginationData.offset));console.log("number",e);var t=[];if(e-this.props.paginationData.currentPagination>10){var n=Math.round((e+this.props.paginationData.currentPagination)/2),o=this.props.paginationData.currentPagination;t=new Array({index:this.props.paginationData.currentPagination,buttonText:o,visible:"number",isCurrent:"is-current"},{index:"separator_1",buttonText:"...",visible:"separator"},{index:n-1,buttonText:n-1,visible:"number",isCurrent:""},{index:n,buttonText:n,visible:"number",isCurrent:""},{index:n+1,buttonText:n+1,visible:"number",isCurrent:""},{index:"separator_2",buttonText:"...",visible:"separator"},{index:e,buttonText:e,visible:"number",isCurrent:""})}else for(var r=e>10?e-10:1;r<=e;r++){var a;a=on({},{index:r,buttonText:r,visible:"number",isCurrent:""},{isCurrent:r===this.props.paginationData.currentPagination?"is-current":""}),t.push(a)}return t}},{key:"handlePaginationChange",value:function(e,t){var n=this,o=1;switch(t){case"next":o=this.props.paginationData.currentPagination+1;break;case"previous":o=this.props.paginationData.currentPagination-1;break;default:o=t}(o>Math.ceil(this.props.paginationData.total/(this.props.paginationData.limit-this.props.paginationData.offset))||o<1)&&(o=this.props.paginationData.currentPagination);var r=on({},this.props.paginationData.actionArgs),a=Math.max.apply(Math,nn(nn(Array(o).keys()).map(function(e){return e*(n.props.paginationData.limit-n.props.paginationData.offset)})));r.offset=a,(0,this.props.dispatch)(this.props.paginationData.paginationAction.apply(null,Object.keys(r).map(function(e){return r[e]})))}},{key:"handlePreviousNextDisable",value:function(e){var t=Math.ceil(this.props.paginationData.total/(this.props.paginationData.limit-this.props.paginationData.offset));switch(e){case"next":return this.props.paginationData.currentPagination===t;case"previous":return 0===this.props.paginationData.currentPagination}}},{key:"render",value:function(){return this.handlePaginationComponent()}},{key:"handlePaginationOnInputChange",value:function(e){var t=e.target.value;this.setState(function(e,n){return{paginationInputValue:t}})}}])&&an(n.prototype,o),r&&an(n,r),t}();var pn=Object(M.connect)(function(e){return{paginationData:on({},e.pagination)}})(cn);function fn(e){return(fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yn(e){return(yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var bn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=yn(t).call(this,e))||"object"!==fn(r)&&"function"!=typeof r?mn(o):r).state={usdaSearch:"",foodGroup:""},n.handleInputChange=n.handleInputChange.bind(mn(mn(n))),n.handleButtonChange=n.handleButtonChange.bind(mn(mn(n))),n.handleGroupSelect=n.handleGroupSelect.bind(mn(mn(n))),n.handleLoadingButton=n.handleLoadingButton.bind(mn(mn(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(t,P.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(De.usdaListDropDown("groups","foodGroup",null))}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,o=t.value;this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,o))}},{key:"handleButtonChange",value:function(e){(0,this.props.dispatch)(De.usdaSearch(this.state.usdaSearch,this.state.foodGroup,0)),this.setState(function(e,t){return{loadingButton:!0}})}},{key:"handleGroupSelect",value:function(e,t){null!==t?this.setState(function(e,n){return{foodGroup:t.id.toString()}}):this.setState(function(e,t){return{foodGroup:""}})}},{key:"handleLoadingButton",value:function(){return void 0!==this.props.requestResolved&&!1===this.props.requestResolved}},{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-multiline is-mobile is-centered"},P.a.createElement("div",{className:"column is-half"},P.a.createElement(st,{type:"search",label:"Search USDA",name:"usdaSearch",value:this.state.searchValue,onInputChange:this.handleInputChange}),P.a.createElement("div",{className:"field"},P.a.createElement(nt,{onDropDownSelect:this.handleGroupSelect,dropDownId:"foodGroup",buttonLabel:"Food Groups"})),P.a.createElement("div",{className:"field"},P.a.createElement(ze,{key:"searchButton",label:"Search",bulmaType:"link",loadingButton:this.handleLoadingButton(),onButtonClick:this.handleButtonChange}))),P.a.createElement("div",{className:"column is-12"},P.a.createElement(Zt,null)),P.a.createElement("div",{className:"column is-12"},P.a.createElement(pn,null)))}}])&&dn(n.prototype,o),r&&dn(n,r),t}();var vn=Object(M.connect)(function(e,t){return console.log(t),{requestResolved:e.table.requestResolved}})(bn);function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wn(e,t){return(wn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Sn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=On(t).call(this,e))||"object"!==gn(r)&&"function"!=typeof r?Dn(o):r).state={},n.handleMediaObjectArray=n.handleMediaObjectArray.bind(Dn(Dn(n))),n.handleMediaObjectTitle=n.handleMediaObjectTitle.bind(Dn(Dn(n))),n.handleMediaObjectBody=n.handleMediaObjectBody.bind(Dn(Dn(n))),n.handleMediaObjectMeasures=n.handleMediaObjectMeasures.bind(Dn(Dn(n))),n.handleNutrientValue=n.handleNutrientValue.bind(Dn(Dn(n))),n.handleNutrientRemove=n.handleNutrientRemove.bind(Dn(Dn(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleMediaObjectMeasures",value:function(e){var t=this.props.items.find(function(t){return t.id===e});if(void 0!==t){var n=t.value;return P.a.createElement("div",{className:"field has-addons"},P.a.createElement("div",{className:"control"},P.a.createElement(st,{type:"number",id:t.id,value:n,onInputChange:this.handleNutrientValue})),P.a.createElement("div",{className:"control"},P.a.createElement("a",{className:"button is-static"},"g")))}return null}},{key:"handleNutrientValue",value:function(e,t){(0,this.props.dispatch)(_e.increaseMenuItem(e.target.id,t))}},{key:"handleNutrientRemove",value:function(e,t){(0,this.props.dispatch)(De.usdaNutritionMediaObjectRemove(t))}},{key:"handleMediaObjectArray",value:function(){var e=this;return this.props.mediaObjectArray.length>0?this.props.mediaObjectArray.map(function(t,n){return P.a.createElement("div",{className:"box column is-10 is-offset-1"},P.a.createElement("article",{key:t.id,className:"media"},P.a.createElement("div",{className:"media-content"},P.a.createElement("div",{className:"content"},P.a.createElement("div",null,e.handleMediaObjectTitle(n),P.a.createElement("div",{className:"field is-grouped is-grouped-multiline"},t.content.map(function(e){return P.a.createElement("div",{key:e.nutrient_id,className:"control"},P.a.createElement("div",{className:"tags are-medium has-addons"},P.a.createElement("span",{className:"tag is-dark"},e.name),P.a.createElement("span",{className:"tag is-info"},e.value+e.unit)))})))))),P.a.createElement("footer",{className:"card-footer"},P.a.createElement("div",{className:"card-footer-item"},e.handleMediaObjectMeasures(t.id)),P.a.createElement("div",{className:"card-footer-item"},P.a.createElement(ze,{label:"Remove",value:t.id,bulmaType:"danger",onButtonClick:e.handleNutrientRemove}))))}):null}},{key:"handleMediaObjectTitle",value:function(e){var t=null,n=null;return null!==this.props.mediaObjectArray[e].title&&(t=P.a.createElement("strong",{className:"",key:e+"title"},this.props.mediaObjectArray[e].title)),null!==this.props.mediaObjectArray[e].subtitle&&(n=P.a.createElement("small",{className:"",key:e+"subtitle"},this.props.mediaObjectArray[e].subtitle)),[t,n]}},{key:"handleMediaObjectBody",value:function(){}},{key:"render",value:function(){return this.handleMediaObjectArray()}}])&&En(n.prototype,o),r&&En(n,r),t}();var Tn=Object(M.connect)(function(e,t){return{mediaObjectArray:e.mediaObject.mediaObjectArray,items:e.menu.items}})(Sn);function An(e){return(An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function In(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function jn(e){return(jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Cn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=jn(t).call(this,e))||"object"!==An(r)&&"function"!=typeof r?Pn(o):r).state={inputSearchValue:"",foodGroupID:""},n.handleInputSearch=n.handleInputSearch.bind(Pn(Pn(n))),n.handleSelectFoodGroup=n.handleSelectFoodGroup.bind(Pn(Pn(n))),n.handleSelectFood=n.handleSelectFood.bind(Pn(Pn(n))),n.handleDietMenu=n.handleDietMenu.bind(Pn(Pn(n))),n.handleDietMenuFields=n.handleDietMenuFields.bind(Pn(Pn(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,P.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){(0,this.props.dispatch)(De.usdaListDropDown("groups","foodGroup",null))}},{key:"handleInputSearch",value:function(e){var t=this.props.dispatch;e.length>2&&(t(De.usdaListDropDown("searchFood","searchFood",null,e,this.state.foodGroupID)),this.setState(function(t,n){return{inputSearchValue:e}}))}},{key:"handleSelectFoodGroup",value:function(e,t){this.setState(function(e,n){return{foodGroupID:t.id}});var n=this.props.dispatch;this.state.inputSearchValue.length>2&&n(De.usdaListDropDown("searchFood","searchFood",null,this.state.inputSearchValue,t.id))}},{key:"handleSelectFood",value:function(e,t){(0,this.props.dispatch)(De.usdaNutritionMediaObject(t.id))}},{key:"handleDietMenu",value:function(){return P.a.createElement("div",{className:"card"},P.a.createElement("div",{className:"card-content"},P.a.createElement("p",{className:"title is-4"},"Menu")),P.a.createElement("div",{className:"content"},P.a.createElement("div",{className:"column is-12"},P.a.createElement("div",{className:"columns is-multiline"},P.a.createElement(Tn,{key:"menu"})))))}},{key:"handleDietMenuFields",value:function(){var e=this,t=[{id:"255",name:"Water",value:0,measure:"g"},{id:"208",name:"Energy",value:0,measure:"kcal"},{id:"268",name:"Energy",value:0,measure:"kj"},{id:"203",name:"Protein",value:0,measure:"g"},{id:"204",name:"Fat",value:0,measure:"g"},{id:"205",name:"Cardohydrate",value:0,measure:"g"},{id:"291",name:"Fiber",value:0,measure:"g"},{id:"269",name:"Sugar",value:0,measure:"g"}];return void 0!==this.props.items&&(t=Nn(t.map(function(t){return e.props.items.forEach(function(e){e.content.forEach(function(n){if(t.id===n.nutrient_id){var o=parseFloat(n.value)*e.value/100;t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){_n(e,t,n[t])})}return e}({},t,{value:t.value+o})}})}),t}))),t.map(function(e,t){return P.a.createElement("div",{key:t,className:"column field has-addons"},P.a.createElement("p",{className:"control"},P.a.createElement("a",{className:"button is-link"},e.name)),P.a.createElement("p",{className:"control"},P.a.createElement("a",{className:"button is-static"},e.value)),P.a.createElement("p",{className:"control"},P.a.createElement("a",{className:"button is-link"},e.measure)))})}},{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-multiline is-mobile"},P.a.createElement("div",{className:"column is-10 is-offset-1 field has-addons"},P.a.createElement("div",{className:"control is-expanded"},P.a.createElement(nt,{key:"searchFood",dropDownId:"searchFood",dropdownType:"input",onDropDownInput:this.handleInputSearch,onDropDownSelect:this.handleSelectFood})),P.a.createElement("div",{className:"control"},P.a.createElement(nt,{key:"foodGroup",dropDownId:"foodGroup",buttonLabel:"Food Groups",onDropDownSelect:this.handleSelectFoodGroup}))),P.a.createElement("div",{className:"column is-2"},P.a.createElement("div",{className:"column is-12"},P.a.createElement("div",{className:"columns is-multiline is-mobile"},this.handleDietMenuFields()))),P.a.createElement("div",{className:"column is-9"},this.handleDietMenu()))}}])&&In(n.prototype,o),r&&In(n,r),t}();var kn=Object(M.connect)(function(e,t){return console.log(e),{items:e.menu.items}})(Cn),xn=function(){return[{name:"Login",path:"/login",key:"login",role:["all"],exact:!0,main:function(){return P.a.createElement(mt,null)}},{name:"USDASearch",path:"/usdasearch",key:"usdaSearch",role:["Super User","Admin"],exact:!0,main:function(){return P.a.createElement(vn,null)}},{name:"Diet",path:"/diet",key:"diet",role:["Super User","Admin"],exact:!0,main:function(){return P.a.createElement(kn,null)}},{name:"Logout("+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+")",path:"/logout",key:"logout",role:["all"],exact:!0,main:function(){return P.a.createElement(Pt,null)}}]};function Un(e){return(Un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Gn(e,t,n[t])})}return e}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fn(e,t){return(Fn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Wn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=Bn(t).call(this,e))||"object"!==Un(r)&&"function"!=typeof r?$n(o):r).handleRouterAuth=n.handleRouterAuth.bind($n($n(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fn(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleRouterAuth",value:function(){var e=Ln({},this.props.user);if(null!==e&&void 0!==e.role){var t=e.role;return Mn(xn(e.username)).filter(function(e){return(e.role.indexOf(t)>-1||e.role.indexOf("all")>-1)&&"login"!==e.key})}return[]}},{key:"render",value:function(){return this.handleRouterAuth().map(function(e){return P.a.createElement(Fe,{navLinkClassName:"navbar-item",key:e.key,to:e.path,text:e.name})})}}])&&qn(n.prototype,o),r&&qn(n,r),t}();var Vn=Object(Ue.withRouter)(Object(M.connect)(function(e){return{user:Ln({},e.authentication).user}})(Wn));function Qn(e){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function zn(e){return(zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hn(e,t){return(Hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Yn=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(r=zn(t).call(this,e))||"object"!==Qn(r)&&"function"!=typeof r?Kn(o):r).handleAccessibleRouter=n.handleAccessibleRouter.bind(Kn(Kn(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hn(e,t)}(t,P.a.Component),n=t,(o=[{key:"handleAccessibleRouter",value:function(){return P.a.createElement("div",{className:"navbar-end"},P.a.createElement(Vn,null))}},{key:"render",value:function(){return P.a.createElement("nav",{className:"navbar is-fixed-top is-light"},this.handleAccessibleRouter())}}])&&Jn(n.prototype,o),r&&Jn(n,r),t}(),Xn=Object(M.connect)()(Yn);function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){eo(e,t,n[t])})}return e}function eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function to(){return(to=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function no(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var oo=function(e){var t=e.component,n=e.authLogged,o=no(e,["component","authLogged"]);return P.a.createElement(Ue.Route,to({},o,{render:function(e){return n.loggedIn?P.a.createElement(t,e):P.a.createElement(Ue.Redirect,{to:{pathname:"/login",state:{from:e.location}}})}}))};oo.propTypes={authLogged:Tt.a.object.isRequired,component:Tt.a.func.isRequired,dispatch:Tt.a.func.isRequired};var ro=Object(Ue.withRouter)(Object(M.connect)(function(e){return{authLogged:Zn({},e.authentication)}},null,null,{pure:!1})(oo));function ao(e){return(ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function io(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function uo(e,t){return!t||"object"!==ao(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lo(e){return(lo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var co=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),uo(this,lo(t).call(this,e))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}(t,P.a.Component),n=t,(o=[{key:"render",value:function(){return P.a.createElement("div",{className:"columns is-multiline is-mobile mainWrapper"},P.a.createElement("div",{className:"column is-12"},P.a.createElement(Ue.Switch,null,P.a.createElement(ro,{exact:!0,path:"/",component:Dt,authLogged:{loggedIn:!1,user:null}}),xn().map(function(e,t){return-1!==e.role.indexOf("all")?P.a.createElement(Ue.Route,{key:e.key,path:e.path,exact:e.exact,component:e.main}):P.a.createElement(ro,{key:e.key,path:e.path,exact:e.exact,component:e.main})}))))}}])&&io(n.prototype,o),r&&io(n,r),t}();function po(e){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fo(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yo(e,t){return!t||"object"!==po(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mo(e,t){return(mo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}k.library.add(U.fas);var bo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(this,ho(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mo(e,t)}(t,R["Component"]),n=t,(o=[{key:"render",value:function(){return P.a.createElement("div",null,P.a.createElement(Xn,null),P.a.createElement(xe,null),P.a.createElement(co,null))}}])&&fo(n.prototype,o),r&&fo(n,r),t}(),vo=n(24),go=n.n(vo);function Eo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loggedIn:!1,user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L.LOGIN_REQUEST:return{loggingIn:!0,user:t.user};case L.LOGIN_SUCCESS:return{loggedIn:!0,user:t.user};case L.INITIAL_USER:return{loggedIn:t.loggedIn,user:t.user};case L.LOGIN_FAILURE:case L.LOGOUT:return{};default:return e}}function Oo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SUCCESS:return{type:"is-success",message:t.message};case G.ERROR:return{type:"is-danger",message:t.message};case G.CLEAR:return{};default:return e}}function wo(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Do(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SUCCESS_INPUT:return[].concat(wo(e),[{type:"is-success",message:t.message,input:t.input}]);case G.ERROR_INPUT:return[].concat(wo(e),[{type:"is-danger",message:t.message,input:t.input}]);case G.CLEAR_INPUT:return wo(e.filter(function(e){return e.input!==t.input}));default:return e}}function So(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.REQUEST_TABLE_DATA:return{requestResolved:!1,tableData:t.data};case q.ADD_TABLE_DATA:case q.FAILURE_TABLE_DATA:return{requestResolved:!0,tableData:t.data};default:return e}}function To(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.REQUEST_ROW_DATA:return{requestResolved:!1,rowData:t.data};case q.ADD_ROW_DATA:case q.FAILURE_ROW_DATA:return{requestResolved:!0,rowData:t.data};default:return e}}function Ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B.ADD_PAGINATION_DATA:case B.REMOVE_PAGINATION_DATA:return t.paginationData;default:return e}}function _o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){No(e,t,n[t])})}return e}function No(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Io(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function jo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{dropdownData:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F.REQUEST_DROPDOWN_DATA:return{dropdownData:Io(e.dropdownData.filter(function(e){if(e.id!==t.id)return e}))};case F.ADD_DROPDOWN_DATA:return{dropdownData:[].concat(Io(e.dropdownData),[{id:t.id,data:t.data,selectedIndex:t.selectedIndex,requestResolved:!0}])};case F.FAILURE_DROPDOWN_DATA:return{dropdownData:Io(e)};case F.SELECT_DROPDOWN:return{dropdownData:Io(e.dropdownData.map(function(e){return e.id===t.id?_o({},e,{selectedIndex:t.index}):e}))};case F.UNSELECT_DROPDOWN:return{dropdownData:Io(e.dropdownData.map(function(e){return e.id===t.id?_o({},e,{selectedIndex:null}):e}))};default:return e}}function Ro(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Po(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mediaObjectArray:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $.REQUEST_MEDIAOBJECT:return{mediaObjectArray:Ro(e.mediaObjectArray.filter(function(e){if(e.id!==t.id)return e}))};case $.ADD_MEDIAOBJECT:return{mediaObjectArray:[].concat(Ro(e.mediaObjectArray),[{id:t.id,title:t.title,subtitle:t.subtitle,content:t.content,requestResolved:!0}])};case $.REMOVE_MEDIAOBJECT:return{mediaObjectArray:Ro(e.mediaObjectArray.filter(function(e){return e.id!==t.id}))};default:return e}}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ko(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W.ADD_MENU_ITEM:return{items:[].concat(ko(e.items.filter(function(e){return e.id!==t.item.id})),[t.item])};case W.REMOVE_MENU_ITEM:return{items:ko(e.items.filter(function(e){return e.id!==t.id}))};case W.INCREASE_MENU_ITEM:return{items:ko(e.items.map(function(e){return e.id===t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){Co(e,t,n[t])})}return e}({},e,{value:parseInt(t.value)}):e}))};default:return e}}const Uo=(e,t,n)=>{const o=function(e){var t=Object(en.createStore)(Object(en.combineReducers)({authentication:Eo,alert:Oo,alertInput:Do,table:So,tableRow:To,pagination:Ao,dropdown:jo,mediaObject:Po,menu:xo}),Object(en.applyMiddleware)(go.a));return t.dispatch({type:"INITIAL_USER",loggedIn:e.loggedIn,user:e.user}),t}(e);return{content:Object(C.renderToString)(P.a.createElement(M.Provider,{store:o},P.a.createElement(Ue.StaticRouter,{context:t,location:n.url},P.a.createElement(bo,null)))),preloadedState:o.getState()}},Mo=(e,t={},n="")=>{let o="";return o=`\n        <!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>${e} </title>\n            <link href="assets/client.css" rel="stylesheet">\n        </head>\n        <body>\n            <section id="app">${n}</section>\n            <script>\n                        window.__STATE__ = ${JSON.stringify(t)}\n                    <\/script>\n            <script src="assets/client.js"><\/script>\n        </body>\n        </html>\n    `},Lo=(e,t)=>{t.status(e.status),t.json({message:e.message}),t.end()},Go=i.a.Router(),qo=async(e,t,n)=>{try{const o=await m.User.validateUsernamePassword(e,t);return o?(((e,t)=>{const n=j.filter(e=>Object.keys(e).indexOf(t.role.toString())>-1);e.data={role:Object.values(n[0])[0],username:t.username}})(n,o.dataValues),n.data):Promise.reject({status:401,message:"The username and password you entered did not match our records. Please double-check and try again."})}catch(e){return Promise.reject(e)}};Go.post("/login",(e,t)=>{qo(e.body.username,e.body.password,e.session).then(e=>{t.status(200),t.json({user:e,message:"Successful Login"}),t.end()}).catch(e=>{Lo(e,t)})}),Go.delete("/logout",(e,t)=>{(e=>new Promise((t,n)=>{e.session.destroy(e=>{console.log(e),e&&n(e),t("Session Deleted")})}))(e).then(()=>{t.status(200),t.json({message:"Logout"}),t.end()}).catch(e=>{Lo(e,t)})});const Bo=i.a.Router();Bo.use("/assets",i.a.static(r.a.resolve(__dirname,"assets"))),Bo.use("/graphql",I()({schema:_,graphiql:!0,context:{dbModel:m}})),Bo.use("/user",Go),Bo.get("*",(e,t)=>{(e=>new Promise((t,n)=>{try{(e=>e.cookie&&e.data)(e.session)?t(e.session.data):n({status:401,error:"User Invalid Session"})}catch(e){n({status:500,error:e})}}))(e).then(n=>{let o=null;const{content:r}=Uo({loggedIn:!0,user:n},{},e);o=Mo("Deploy React Diet",{loggedIn:!0,user:n},r),t.setHeader("Cache-Control","assets, max-age=604800"),t.send(o)}).catch(n=>{console.log(n);let o=null;const{content:r}=Uo({},{},e);o=Mo("SSR",{},r),t.setHeader("Cache-Control","assets, max-age=604800"),t.send(o)})});var Fo=n(13),$o=n.n(Fo),Wo=n(25),Vo=n.n(Wo),Qo=n(26),Jo=n.n(Qo),zo=n(27);const Ho={client:n.n(zo).a.createClient()},Ko=Jo()($o.a);var Yo=$o()({store:new Ko(Ho),genid:function(e){return Vo()()},secret:"Le@kgp91",resave:!1,saveUninitialized:!1,cookie:{maxAge:36e5}});n(30);(async function(){return await d.authenticate})().then(e=>(console.log("Connection with db established"),async function(){await m.User.sync({force:!0}),await m.Role.sync({force:!0}),await m.Nutrition.sync({force:!0}),await m.Food.sync({force:!0}),await m.FoodNutrition.sync({force:!0}),await m.FoodNutritionMeasure.sync({force:!0})}())).then(()=>(console.log("Sync functions"),w())).then(()=>{console.log("Add fake data")}).catch(e=>{console.log("Database Connection failed:"+e)});const Xo=i()(),Zo=__dirname;r.a.join(Zo,"index.html");Xo.use(l.a.json()),Xo.use(i.a.static(Zo)),Xo.use(Yo),Xo.use("/",Bo);Xo.listen("8000",()=>{console.log("App listening to 8000"),console.log("Press Ctrl+C to quit")})}]);